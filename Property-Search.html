<html>
<head>
<meta name="viewport" content=" width=device-width,initial-scale=1,maximum-scale=1"/>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.0/css/bootstrap.min.css">
<script src="http://ajax.googleapis.com/ajax/libs/jquery/2.0.2/jquery.min.js"></script>
<script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.0/js/bootstrap.min.js"></script>
 <script src="http://ajax.aspnetcdn.com/ajax/jquery.validate/1.11.1/jquery.validate.min.js"></script>
   


        
</head>
    <style>
        body{
            padding: 5px 10px 10px 20px;
            background-image:url("image.jpg");
            color:orange;
        }
        houseform .form-group label.error {
        color: #FB3A3A;
        display:block;
        padding:5px 10px 5px 50px;
        text-align:center;
}
        #zillowImage{
            position: relative;
            float: right;
        }
        #errorbox{
            visibility: hidden;
            position: absolute;
            display: block;
        }
        #fbimage{
            position: relative;
            float: right;
            height: 30%;
                width:20%;
        }
    </style>
<body>
    
    <!-- initialize fb post -->
<script>
    window.fbAsyncInit = function() {
  FB.init({
    appId      : '752542048155527',
    cookie     : true,  // enable cookies to allow the server to access 
                        // the session
    xfbml      : true,  // parse social plugins on this page
    version    : 'v2.1' // use version 2.1
  });
    (function(d, s, id) {
    var js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return;
    js = d.createElement(s); js.id = id;
    js.src = "//connect.facebook.net/en_US/sdk.js";
    fjs.parentNode.insertBefore(js, fjs);
  }(document, 'script', 'facebook-jssdk'));
    }
    function fb_post(){
        alert("Inside fb_post()");
        FB.ui({
                
                method:'feed',
                //name:"1248 West Adams Blvd",
                caption:"Property Information from Zillow.com",
                //description:Sample,
                display:'popup',
                link:'https://developers.facebook.com/docs/',
               // picture:"grab 1 yr chart from JSON"
            },
            
    function(response)
            {
                if(response && response.post_id){
                    alert("Posted Successfully");
                }
                else{
                    alert("Not Posted");
                }
                
            });
            }
</script>


    
    
    <h3>Search Your Property Here</h3><br> 
    <form class="form-inline" role="form" id="houseform"  action="" class="js-ajax-php-json" method="get" accept-charset="utf-8">
        <div class="col-lg-4">
  <div class="form-group" >
      <label for="address">Street Address*:</label>
        <input type="text" class="form-control" placeholder="Address" id="streetInput" name="streetInput" autocomplete="on"> 
</div>
</div>
<div class="col-lg-3" class="form-group" >
      <label for="City">City*:</label>
    <input type="text" class="form-control" placeholder="City" id="cityInput" name="cityInput" autocomplete="on">
</div>
<div class="col-lg-2" class="form-group" >
      <label for="State">State*:</label>
<select type="state" class="form-control" placeholder="State" id="stateInput" name="stateInput">
    <option value=""></option>
    <option value="AL">AL</option>
	<option value="AR">AR</option>
			<option value="AZ">AZ</option>
			<option value="CA">CA</option>

			<option value="CO">CO</option>
			<option value="CT">CT</option>
			<option value="DC">DC</option>
			<option value="DE">DE</option>

			<option value="FL">FL</option>
			<option value="GA">GA</option>
			<option value="HI">HI</option>
			<option value="IA">IA</option>

			<option value="ID">ID</option>
			<option value="IL">IL</option>
			<option value="IN">IN</option>
			<option value="KS">KS</option>

			<option value="KY">KY</option>
			<option value="LA">LA</option>
			<option value="MA">MA</option>
			<option value="MD">MD</option>

			<option value="ME">ME</option>
			<option value="MI">MI</option>
			<option value="MN">MN</option>
			<option value="MO">MO</option>

			<option value="MS">MS</option>
			<option value="MT">MT</option>
			<option value="NC">NC</option>
			<option value="ND">ND</option>

			<option value="NE">NE</option>
			<option value="NH">NH</option>
			<option value="NJ">NJ</option>
			<option value="NM">NM</option>

			<option value="NV">NV</option>
			<option value="NY">NY</option>
			<option value="OH">OH</option>
			<option value="OK">OK</option>

			<option value="OR">OR</option>
			<option value="PA">PA</option>
			<option value="RI">RI</option>
			<option value="SC">SC</option>

			<option value="SD">SD</option>
			<option value="TN">TN</option>
			<option value="TX">TX</option>
			<option value="UT">UT</option>

			<option value="VA">VA</option>
			<option value="VT">VT</option>
			<option value="WA">WA</option>
			<option value="WI">WI</option>

			<option value="WV">WV</option>
			<option value="WY">WY</option>
          </select>
</div>
<div class="col-lg-2" > 
  <button id="button1" type="submit" class="btn btn-warning" name="btnsubmit" value="Submit form" >Submit</button>
</div>
<div class="col-lg-1">
  <img id="zillowImage" src="http://www.zillow.com/widgets/GetVersionedResource.htm?path=/static/logos/Zillowlogo_150x40_rounded.gif" width="150" height="40" alt="Zillow Real Estate Search" />
</div>

</form>	
        <br>
        <textarea id="errorbox"></textarea>
        <br>
        <hr>
</div>
        
      
        <ul class="nav nav-tabs" role="tablist" id="mytab">
            <li class="active">
                <a href="#Basic-Info" role="tab" data-toggle="tab">Basic Info</a>
            </li>
            <li>
                <a href="#chart" role="tab" data-toggle="tab">Historical Zestimates</a>
            </li>
        </ul>
        
    <div class="tab-pane fade in active" id="Basic-Info">
        <div id="tableDiv" class='table-responsive'>
            <table id="basic-info" class="table table-striped">
                <tr>
                    <td class="align-left" colspan="5">See more details for <a href="#"class="toZillow"> address</a> on Zillow</td>
                        <td>
    <a href="javascript:fb_post();"><img id="fbimage" src="http://static.excelined.org/wp-content/uploads/Share-on-Facebook.png"></a>
                    </td>
    </tr>
    <tr>
                        <td class="align-left">Property Type:</td>
                        <td class="align-right"></td>
                        <td class="align-left">Last Sold Price:</td>
                        <td class="align-right">$</td>
    </tr>
    <tr>
                        <td class="align-left">Year Built:</td>
                        <td class="align-right"></td>
                        <td class="align-left">Last Sold Date:</td>
                        <td class="align-right">$</td>
    </tr>
    <tr>
                        <td class="align-left">Lot Size:</td>
                        <td class="align-right"></td>
                        <td class="align-left">Zestimate&reg; Property Estimate as of :</td>
                        <td class="align-right">$</td>
    </tr>
    <tr>
                        <td class="align-left">Finished Area:</td>
                        <td class="align-right"></td>
                        <td class="align-left">30 Days Overall Change:</td>
                        <td class="align-right">$</td>
    </tr>
    <tr>
                        <td class="align-left">Bathrooms:</td>
                        <td class="align-right"></td>
                        <td class="align-left">All Time Property Range:</td>
                        <td class="align-right">$</td>
    </tr>
    <tr>
                        <td class="align-left">Bedrooms:</td>
                        <td class="align-right"></td>
                        <td class="align-left">Rent Zestimate &reg; Valuation as of:</td>
                        <td class="align-right">$</td>
    </tr>
    <tr>
                        <td class="align-left">Tax Assessment Year:</td>
                        <td class="align-right"></td>
                        <td class="align-left">30 Days Rent Change:</td>
                        <td class="align-right">$</td>
    </tr>
    <tr>
                        <td class="align-left">Tax Assessment:</td>
                        <td class="align-right"></td>
                        <td class="align-left">All Time Rent Change:</td>
                        <td class="align-right">$</td>
    </tr>
            </table>
        </div>
        </div>
</body>

<script type="text/javascript">
$(document).ready(function (e) {

            $("#houseform").validate({

                rules:
                {
                    streetInput: "required",
                    cityInput: "required",
                    stateInput: "required"
                },
                messages:
                {
                    streetInput: "This field is required",
                    cityInput: "This field is required",
                    stateInput: "This field is required",
                },
                submitHandler: function (form) {

                    var city = form[1].value;
                    var street = form[0].value;
                    var state = form[2].value;
					$("#main").hide();
                    alert(city + " - " + street + " - " + state);

                    $.ajax
                    ({

                        url: "index.php",
                        type: 'GET',
                        data: $.param({ stateInput: state, cityInput: city, streetInput: street }),
                        success: function (data, textStatus, jqxhr)
                        {
                           alert("success");
                            /*console.log(data);
                            alert(data.value);*/
                            /* write your code after getting the response here
							// change the names and everything */
                       },
                        error: function (jqxhr, textStatus, errorMessage) {
                            /*console.log(errorMessage);*/
                        }
                    });
                }

            });
        });
</script>
  <!--752542048155527-->


<script>
    
    </script>


  <!--
         success:routine for processing the(json.parse to extract info) result
         error:handling error
         htmlresult+="<div class=carousel-caption><div class=chartCaption><h3>Historical Zestimates for the past 1 year</h3><p>"+address+"</p>";
            //after data extraction
            document.getElementById("carousel").innerHTML=htmlresult;
            
<!--Set up tabs where results-->
</html>